# dedwm - A minimal dwm fork

This is a personal fork of [dwm](https://dwm.suckless.org/) - a dynamic window manager for X. This fork keeps dwm as small as possible while including only the patches and customizations that fit my specific needs.

## Features

This fork includes the following patches:
- **attachaside** - New windows attach at the side of the focused window
- **movestack** - Move clients up/down in the stack (Mod+Shift+j/k)
- **vanitygaps** - Configurable gaps between windows
- **restartsig** - Restart dwm with signals or Mod+Ctrl+Shift+q
- **autostart** - Automatically run scripts on startup

## Customizations

- **Modkey**: Uses Mod4Mask (Windows/Meta key) instead of Mod1Mask (Alt)
- **Terminal**: Uses `st` as the default terminal
- **Keybindings**:
  - `Mod+d` - Launch dmenu
  - `Mod+Return` - Launch terminal
  - `Mod+Shift+Escape` - Quit dwm
  - `Mod+Ctrl+Shift+q` - Restart dwm
  - `Mod+-` / `Mod+=` - Volume down/up
  - `Mod+m` - Toggle mute
  - `Mod+w` - Toggle WiFi
- **Status Bar**: Displays battery, WiFi, volume, and clock information (via autostart script)
- **Wallpaper**: Automatically sets wallpaper from `wallpaper/drwp1.jpeg` (via autostart script)

## Requirements

### Build Dependencies
- Xlib header files
- Xft library
- A C compiler (gcc/clang)

### Runtime Dependencies
- **st** - Simple terminal (or modify `config.def.h` to use your preferred terminal)
- **dmenu** - Application launcher
- **pactl** (PulseAudio) - For volume control and status display
- **nmcli** (NetworkManager) - For WiFi status display
- **feh**, **nitrogen**, or **xwallpaper** - For wallpaper setting (one of these is required)

## Installation

1. Edit `config.mk` to match your local setup (defaults to `/usr/local`)

2. Build and install:
   ```bash
   make clean install
   ```

3. Install autostart scripts (required for status bar and wallpaper):
   ```bash
   ./install-autostart.sh
   ```
   
   This installs the autostart script to `~/.local/share/dwm/autostart.sh` (or `~/.dwm/autostart.sh`).
   The script will automatically run when dwm starts and handles:
   - Setting the wallpaper
   - Updating the status bar with system information

4. Add to your `.xinitrc`:
   ```bash
   exec dwm
   ```

## Configuration

Configuration is done by editing `config.def.h` and recompiling:

```bash
# Edit config.def.h
vim config.def.h

# Rebuild
make clean install
```

## Dependencies and Apps Used

### Core Applications
- **dwm** - Window manager (this fork)
- **st** - Terminal emulator
- **dmenu** - Application launcher

### System Integration
- **PulseAudio** (`pactl`) - Audio system for volume control
- **NetworkManager** (`nmcli`) - Network management (for WiFi toggle)

### Optional Tools
- **feh** - Image viewer/wallpaper setter (preferred)
- **nitrogen** - Alternative wallpaper setter
- **xwallpaper** - Alternative wallpaper setter

### Status Bar
The status bar automatically displays (updated every second via autostart script):
- Battery status with icon and percentage (if `/sys/class/power_supply/BAT0` exists)
- WiFi status with SSID or "Off" (via NetworkManager)
- Volume level and mute status (via PulseAudio)
- Current date and time (YYYY-MM-DD HH:MM:SS format)

## Patches Applied

All patches are located in the `patches/` directory:
- `dwm-attachaside-6.6.diff`
- `dwm-movestack-20211115-a786211.diff`
- `dwm-vanitygaps-20190508-6.2.diff`
- `dwm-restartsig-20180523-6.2.diff`
- `dwm-autostart-20210120-cb3f58a.diff`

Note: The systray patch file remains in the patches directory but is not applied (systray support was removed).

## License

See LICENSE file. This fork maintains the same MIT/X Consortium license as upstream dwm.
